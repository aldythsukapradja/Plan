<!-- PREVIEW-ONLY SNIPPET (not final) -->
<!doctype html>
<meta charset="utf-8">
<title>Line-Drive Waterflood — Preview</title>
<style>
  :root{--bg:#0f1320;--panel:#151b2e;--text:#e7edf7;--muted:#b9c3d6;
        --blue:#4C72B0;--orange:#DD8452;--green:#55A868;}
  html,body{margin:0;background:var(--bg);color:var(--text);font:16px system-ui}
  .wrap{max-width:1100px;margin:auto;padding:22px}
  .panel{background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:16px}
  .hero{display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  .btn{background:linear-gradient(135deg,var(--blue),#6b8ad6);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
  .note{color:var(--muted);font-size:.95rem}
  .sim{position:relative;width:100%;height:260px;margin-top:12px;border-radius:12px;background:linear-gradient(#1a1f33,#10162a)}
  .label{position:absolute;font-size:.8rem;color:var(--muted)}
  .wellH{position:absolute;height:8px;width:70%;background:var(--orange);border-radius:6px;box-shadow:0 0 10px rgba(221,132,82,.25)}
  .injector{position:absolute;width:6px;height:100px;background:var(--blue);top:70px;border-radius:3px}
  .front{position:absolute;top:20px;bottom:20px;width:0;background:rgba(76,114,176,.25);backdrop-filter:blur(1px);
         border-left:2px solid var(--blue);box-shadow:0 0 12px rgba(76,114,176,.4) inset}
  .meter{margin-top:10px;display:flex;gap:12px;align-items:center}
  .dot{width:10px;height:10px;border-radius:50%;display:inline-block}
  .legend{display:flex;gap:14px;flex-wrap:wrap;font-size:.85rem;color:var(--muted)}
</style>
<div class="wrap">
  <div class="hero">
    <div>
      <h1 style="margin:.2rem 0;">Line-Drive Waterflood (Horizontal Wells)</h1>
      <div class="note">Think of a <b>blue curtain</b> (water) gently pushing oil toward two very long horizontal producers (~30k ft each).</div>
    </div>
    <button class="btn" id="toggle">▶ Play: Before → After</button>
  </div>

  <div class="panel">
    <div class="legend">
      <span><span class="dot" style="background:var(--blue)"></span> Injectors (line-drive, left)</span>
      <span><span class="dot" style="background:var(--orange)"></span> Long horizontal producers (~30k ft)</span>
      <span><span class="dot" style="background:var(--green)"></span> Rising pressure & early oil bump</span>
    </div>

    <div class="sim" id="sim">
      <!-- injectors fence (left) -->
      <div class="injector" style="left:24px;"></div>
      <div class="injector" style="left:48px;"></div>
      <div class="injector" style="left:72px;"></div>

      <!-- moving water front (blue curtain) -->
      <div class="front" id="front"></div>

      <!-- two long horizontals (right half) -->
      <div class="wellH" style="left:42%; top:120px;"></div>
      <div class="wellH" style="left:42%; top:170px;"></div>

      <div class="label" style="left:14px; top:12px;">Injectors</div>
      <div class="label" style="right:14px; top:12px;">Producers (30k ft drains)</div>
      <div class="label" id="status" style="left:14px; bottom:8px;">Status: BEFORE (low pressure, front far)</div>
    </div>

    <div class="meter">
      <div class="note">Water front position</div>
      <div style="flex:1; height:10px; background:#0c1122; border-radius:999px; overflow:hidden">
        <div id="bar" style="height:100%; width:4%; background:var(--blue)"></div>
      </div>
      <div class="note" id="wc">WC: ~0%</div>
    </div>
  </div>

  <p class="note" style="margin-top:10px">
    Next step in the full build: add a Play/Pause timeline, beginner charts (oil & water cut vs time, VRR ~1 target),
    and sliders for injection rate / spacing / mobility. This preview only shows the “moving curtain” idea.
  </p>
</div>

<script>
  const btn = document.getElementById('toggle');
  const front = document.getElementById('front');
  const bar = document.getElementById('bar');
  const wc = document.getElementById('wc');
  const status = document.getElementById('status');

  let playing = false, x = 0, raf;

  function frame(){
    // move front from ~5% (before) toward ~80% (after)
    x = Math.min(80, x + 0.5);
    front.style.left = x + '%';
    front.style.width = (x - 5) + '%';
    bar.style.width = Math.max(4, x) + '%';

    // simple “water cut” feel: near 55%+ the WC starts climbing
    let wcVal = Math.max(0, (x - 55) * 2); // 0..50-ish
    wc.innerText = 'WC: ~' + Math.max(0, Math.min(90, Math.round(wcVal))) + '%';

    if(x < 80 && playing){ raf = requestAnimationFrame(frame); }
    else { playing = false; btn.textContent = '↺ Replay'; status.textContent='Status: AFTER (front reached producers; WC rising)'; }
  }

  btn.addEventListener('click', ()=>{
    if(!playing){
      // reset
      cancelAnimationFrame(raf);
      x = 5; front.style.left = x + '%'; front.style.width = '0%';
      bar.style.width = '4%'; wc.innerText = 'WC: ~0%';
      status.textContent='Status: BEFORE (low pressure, front far)';
      playing = true; btn.textContent = '⏸ Pause'; raf = requestAnimationFrame(frame);
    } else {
      // pause
      playing = false; btn.textContent = '▶ Resume';
      cancelAnimationFrame(raf);
    }
  });
</script>