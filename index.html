<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Segmental Lean Analysis — Replica</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1220; --panel:#161a2b; --ink:#e8ebff; --muted:#a5acce;
    --accent:#7c5cff; --line:#2a3154; --good:#5ad39e;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui}
  .wrap{max-width:980px;margin:28px auto;padding:0 16px}
  .card{
    background:linear-gradient(180deg,#171b34,#12162b); border:1px solid #232a49;
    border-radius:20px; padding:18px; box-shadow:0 12px 28px rgba(0,0,0,.4);
  }
  h1{margin:0 0 8px;font-size:20px;font-weight:800}
  .sub{color:var(--muted);font-size:13px;margin-bottom:14px}
  .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin:0 0 14px}
  select, .chip{
    background:#12162b;border:1px solid #2a3154;color:var(--ink);padding:10px 12px;
    border-radius:12px;font-weight:600
  }
  .grid{display:grid;gap:16px;grid-template-columns: 1.2fr 1fr}
  @media (max-width:900px){.grid{grid-template-columns:1fr}}
  .panel{background:var(--panel);border-radius:16px;padding:14px;border:1px solid #232a49}
  .panel h3{margin:6px 0 12px;font-size:14px;letter-spacing:.2px;color:#cfd3e9}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border-bottom:1px solid #252d4f;font-size:13px}
  th{color:#b9c0df;text-align:left}
  .badge{display:inline-block;padding:4px 8px;border-radius:10px;border:1px solid #2a3154;background:#141937;font-size:12px}
  .ok{color:var(--good)}
  .sil-label{font-size:12px; fill:#d9ddff}
  .kg{font-size:16px;font-weight:800; fill:#ffffff}
  .pct{font-size:12px; fill:#aab1d7}
  .eval{font-size:11px; fill:#5ad39e}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Segmental Lean Analysis (kg · % of standard)</h1>
    <div class="sub">Replicates the InBody layout with your scan values</div>

    <div class="toolbar">
      <label for="dateSel" class="chip">Select date</label>
      <select id="dateSel"></select>
      <span class="chip">Evaluation band: <b>90–110% = Normal</b></span>
    </div>

    <div class="grid">
      <!-- Left: Silhouette replica -->
      <div class="panel">
        <h3>Silhouette View</h3>
        <svg id="sil" viewBox="0 0 520 600" width="100%" height="auto" aria-labelledby="title">
          <title>Segmental Lean Analysis</title>
          <!-- backdrop -->
          <rect x="0" y="0" width="520" height="600" rx="14" fill="#12162b" stroke="#232a49"/>
          <!-- simplified silhouette -->
          <g transform="translate(250,300)">
            <!-- body core -->
            <path d="M-55 -165
                     C -75 -200, 75 -200, 55 -165
                     L 68 -120  60 -40
                     C 62 40, 55 85, 40 140
                     C 20 190, -20 190, -40 140
                     C -55 85, -62 40, -60 -40
                     L -68 -120 Z"
                  fill="#1a1f3a" stroke="#2b345e" stroke-width="2"/>
            <!-- head -->
            <circle cx="0" cy="-205" r="28" fill="#1a1f3a" stroke="#2b345e" stroke-width="2"/>

            <!-- Arms (capsules) -->
            <rect x="-150" y="-60" rx="18" ry="18" width="90" height="36"
                  fill="#151b36" stroke="#2b345e"/>
            <rect x="60" y="-60" rx="18" ry="18" width="90" height="36"
                  fill="#151b36" stroke="#2b345e"/>

            <!-- Legs (capsules) -->
            <rect x="-110" y="150" rx="18" ry="18" width="110" height="38"
                  fill="#151b36" stroke="#2b345e"/>
            <rect x="0" y="150" rx="18" ry="18" width="110" height="38"
                  fill="#151b36" stroke="#2b345e"/>

            <!-- Trunk (capsule) -->
            <rect x="-85" y="10" rx="18" ry="18" width="170" height="44"
                  fill="#151b36" stroke="#2b345e"/>

            <!-- Labels -->
            <!-- Left Arm -->
            <text class="sil-label" x="-105" y="-100" text-anchor="middle">Left Arm</text>
            <text id="la-kg" class="kg" x="-105" y="-80" text-anchor="middle">3.01 kg</text>
            <text id="la-pct" class="pct" x="-105" y="-60" text-anchor="middle">96.6%</text>
            <text id="la-eval" class="eval" x="-105" y="-40" text-anchor="middle">Normal</text>

            <!-- Right Arm -->
            <text class="sil-label" x="105" y="-100" text-anchor="middle">Right Arm</text>
            <text id="ra-kg" class="kg" x="105" y="-80" text-anchor="middle">3.08 kg</text>
            <text id="ra-pct" class="pct" x="105" y="-60" text-anchor="middle">98.2%</text>
            <text id="ra-eval" class="eval" x="105" y="-40" text-anchor="middle">Normal</text>

            <!-- Trunk -->
            <text class="sil-label" x="0" y="-10" text-anchor="middle">Trunk</text>
            <text id="tr-kg" class="kg" x="0" y="10" text-anchor="middle">24.4 kg</text>
            <text id="tr-pct" class="pct" x="0" y="30" text-anchor="middle">97.4%</text>
            <text id="tr-eval" class="eval" x="0" y="50" text-anchor="middle">Normal</text>

            <!-- Left Leg -->
            <text class="sil-label" x="-55" y="130" text-anchor="middle">Left Leg</text>
            <text id="ll-kg" class="kg" x="-55" y="150" text-anchor="middle">7.87 kg</text>
            <text id="ll-pct" class="pct" x="-55" y="170" text-anchor="middle">90.9%</text>
            <text id="ll-eval" class="eval" x="-55" y="190" text-anchor="middle">Normal</text>

            <!-- Right Leg -->
            <text class="sil-label" x="55" y="130" text-anchor="middle">Right Leg</text>
            <text id="rl-kg" class="kg" x="55" y="150" text-anchor="middle">7.94 kg</text>
            <text id="rl-pct" class="pct" x="55" y="170" text-anchor="middle">90.9%</text>
            <text id="rl-eval" class="eval" x="55" y="190" text-anchor="middle">Normal</text>
          </g>
        </svg>
      </div>

      <!-- Right: numbers table -->
      <div class="panel">
        <h3>Values</h3>
        <table>
          <thead>
            <tr><th>Segment</th><th>kg</th><th>% of std</th><th>Eval</th></tr>
          </thead>
          <tbody id="tbl"></tbody>
        </table>
        <div style="margin-top:12px;color:#aab1d7;font-size:12px">
          Note: InBody considers ~90–110% of standard as “Normal”.
        </div>
      </div>
    </div>
  </div>
</div>

<script>
/* --- Your data (from scans) --- */
const data = {
  "13 Jun 2025 (scan)": {
    leftArm:  {kg:3.05, pct:95.7},
    rightArm: {kg:3.12, pct:97.9},
    trunk:    {kg:24.8, pct:97.6},
    leftLeg:  {kg:8.09, pct:91.3},
    rightLeg: {kg:8.16, pct:92.0}
  },
  "11 Sep 2025 (scan)": {
    leftArm:  {kg:3.00, pct:94.6},
    rightArm: {kg:3.03, pct:95.6},
    trunk:    {kg:24.4, pct:96.6},
    leftLeg:  {kg:8.15, pct:92.6},
    rightLeg: {kg:8.19, pct:92.9}
  },
  "24 Sep 2025 (scan)": {
    leftArm:  {kg:3.01, pct:96.6},
    rightArm: {kg:3.08, pct:98.2},
    trunk:    {kg:24.4, pct:97.4},
    leftLeg:  {kg:7.87, pct:90.9},
    rightLeg: {kg:7.94, pct:90.9}
  }
};

const dateSel = document.getElementById('dateSel');
Object.keys(data).forEach(d=>{
  const o=document.createElement('option'); o.textContent=d; o.value=d; dateSel.appendChild(o);
});
dateSel.value = "24 Sep 2025 (scan)";

/* helper: evaluation text */
function evalText(pct){
  if (pct >= 110) return "Over";
  if (pct >= 90)  return "Normal";
  return "Under";
}
/* fill table + svg */
function render(dkey){
  const d = data[dkey];
  const cells = [
    ["Left Arm","la", d.leftArm],
    ["Right Arm","ra", d.rightArm],
    ["Trunk","tr", d.trunk],
    ["Left Leg","ll", d.leftLeg],
    ["Right Leg","rl", d.rightLeg],
  ];
  // SVG labels
  cells.forEach(([label, id, obj])=>{
    document.getElementById(`${id}-kg`).textContent  = `${obj.kg.toFixed(2)} kg`;
    document.getElementById(`${id}-pct`).textContent = `${obj.pct.toFixed(1)}%`;
    const ev = evalText(obj.pct);
    const el = document.getElementById(`${id}-eval`);
    el.textContent = ev;
    el.setAttribute("class", "eval" + (ev==="Normal" ? "" : " ok")); // keep green for normal
  });
  // Table
  document.getElementById('tbl').innerHTML = cells.map(([label,id,obj])=>{
    const ev = evalText(obj.pct);
    return `<tr>
      <td>${label}</td>
      <td>${obj.kg.toFixed(2)}</td>
      <td>${obj.pct.toFixed(1)}%</td>
      <td><span class="badge">${ev}</span></td>
    </tr>`;
  }).join("");
}
dateSel.addEventListener('change', e=>render(e.target.value));
render(dateSel.value);
</script>
</body>
</html>